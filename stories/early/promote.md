売り込み
========

ストーリーの特徴
----------------

サービスが知られずこちらから個々の企業に営業していく段階のストーリー。
最初期の業務形態がこうなるだろうというモデル。
開発者会員も存在しないため開発すべてHB社内部で行うという形態。
ただし、形のうえでは開発者を会員内から選択するという形態を取る。

登場人物
--------

* 発注者(企業)				: 「ホテル湯の花」
* プロジェクトマネージャ(HB社社長)	: 「トリヒコ」
* OSS開発者1(HB社顧問)			: 「ハチスケ」
* OSS開発者2(HB社社員)			: 「ハリト」
* カスタマイザ(企業)			: 「ホテルラグジュアル」

今回の顧客
----------

* 名前: 「ホテル湯の花」
* 業種: 宿泊業
* 年商: 1億円
* 部屋数: 45部屋
* 従業員数: 15人
* 月間宿泊人数: 500人
* 今回の案件: Web予約システム
* サービスの形態: 新規開発、ASPでの利用

内容
----

### ホテル湯の花

「湯の花旅館」は創業者「湯野花太郎」が昭和30年に創業した。
その後息子の「湯野花次」が二代目を継いだ。
アットホームなサービスを売りにしているこのホテルには固定客が多い。
長男は東京の銀行に勤務している。
次男の「湯野花男」が主に家業を手伝ってきた。
湯野花次は65歳の誕生日を機に30歳の次男に社長職を譲って隠居生活に入った。

花男はかねてより「湯の花旅館」の古い体質に疑問を持っていたが、
父親に遠慮して強く意見を口にすることはなかった。
社長に就任したことで大胆な改革ができる立場になった。
父親に相談すると「お前に任せた」とのこと。
ただし「お客様第一の姿勢だけは忘れるな」との釘もさされた。
そこで花男は近代的な経営を取り入れる手始めに宿の名前を
「ホテル湯の花」に変えることとした。
あまり機械には強くない花男だったが、
最近では新規のお客さんのほとんどが「ネットで見た」とのことで、
ホームページすら持っていないことに危機感を感じていた。

### 1本の電話

そんななか1本の電話を受けた。
電話の主は「ハミングバード社の社長のトリヒコ」と名乗った。
インターネット上での予約システムを作成しないかとのことだった。
「トリヒコ」は電話帳を見て「ホテル湯の花」のことを知り、
ホームページがないことを確認したうえで声をかけてきたようだ。
聞くと、ホームページがないか、あってもほとんど更新がないような
ホテルや旅館に同じように声をかけているとのことだった。

「トリヒコ」は花男にITについて詳しいかどうか尋ねた。
花男は正直にあまりよく知らないと答えた。
「トリヒコ」は自社の開発体制について説明したいとのことで、
都合の良い時間を聞いてきた。
花男はそのときとくに用もなかったので、その場で聞くことにした。

「トリヒコ」の話によると、Web予約システムを使えば、
単純に予約ができるだけでなく、会員制にしポイント等のサービスを
使えばリピーターを増やすこともできるとのことだった。
また、新規の作成なので「どんな機能が欲しいか」も
花男とハミングバード社と開発者の話し合いで融通が利くとのこと。
そして、「トリヒコ」が一番力を入れて、他社との違いを強調していたのは、
開発にオープンソースという手法を取り入れていることだった。

オープンソースという手法のうちでとくに強調していたのが、
花男と開発者で作り上げたコードに他のホテルが目をつけ、
それに機能を追加した場合、その機能を花男はタダで使うことができる
という点だった。
「トリヒコ」が言うには、オープンソースの手法を使うことで、
宿泊業という業界内でシェア争いをするよりも、
むしろ宿泊という業界全体の魅力を増すことで業界全体のパイを増やすことができる、
とのことだった。

また、「トリヒコ」は作成されたコードの利用形態には2通りあり、
花男が借りたサーバにシステムを導入しそれを運用するという形態と、
ハミングバード社が用意したサーバにシステムを導入し運用もHB社が行う
ASPという形態とのことだった。
新規開発を発注した企業ははじめの2年間はほぼサーバの実費のみでASP利用が
可能とのことだった。

最終的な金額はどの程度の機能を取り入れるかによって変わってくるとのことだったが、
最小限の基本的な機能だけなら100万円とのことだった。
機能追加は初期の開発のあいだに要件を増やすという形で行っても良いが、
運用中に新たな要件として機能追加することも可能とのことだった。

### 開発特法等の説明

「考えてみる」と伝えたところ、「トリヒコ」は資料を送付してもかまわないか、
と聞いてきたので問題ないと返事した。
資料には「オープンソース開発」の利点、欠点について、
図を添えていろいろと書かれていた。
実際の予約システムについての説明があまり書かれてなかったので物足りない感じがしたが、
どうやらHB社は「オープンソース」という手法に力を入れているようだった。

花男は資料の「開発者を公募」という部分にすこし引っかかった。
後日「トリヒコ」から再度連絡があった。
「資料に目を通してくれたこと」に感謝を述べたうえで「トリヒコ」は
何か質問はないかと聞いてきたので、
「開発者を公募」という部分について、信頼性の問題を感じたと率直に伝えた。
すると「トリヒコ」は、基本的な枠組みとしては「会員のなかから公募、選任」と
いう形であるが現在のところまだ会員は存在しないので、
自社内で開発するので、心配いらないとのことだった。
また、行く々々「会員」が開発することになったとしても、
十分に能力や人柄を見極めたうえで仕事を任せるとのことだった。

何度かの電話のやりとりや、スライドによる説明を受けて、
花男はハミングバード社にまかせることにした。
いろいろと手作り感のある部分はあったものの、
シェア争いを続けてもジリ貧、パイを増やさなくてはならず、
オープンソースの手法がそれを助けるというところに共感を感じた。

### 契約から開発

まずは要件定義という段階から始めるとのことだった。
花男が絶対必要と思う機能は宿泊する部屋が空いているかどうかを表示すること、
朝食付きかどうかのチェック欄だった。
また、車いす等の補助が必要かどうか、食物アレルギーはないかどうか、
喫煙の有無のチェック欄も必要と考えていた。
また、できたら、会員制にして、ポイントが貯まるような仕組みも欲しいと伝えた。

細部までの細かい打ち合わせの後、ハミングバード社がいくつかの見積もり案を
持ってきた。
絶対必要な機能をすべて盛り込むと200万円、
会員制でポイント機能をつけると300万円とのことだった。
またASPは2年ごとの契約で最初の2年間は1月1万5千円で、
その後はその時の物価等によって上下するがだいたい1月2万円とする予定とのことだった。
花男は今回は予算の関係でポイント機能はあきらめることとした。

契約を結び開発が開始した。
サーバは「ハチスケ」が主に使用する言語である「Hachikell」をメインに使い、
クライアントはHTML5でJavascriptを使っていくこととなった。
まずはサーバとクライアント間のインターフェース部を作り込むこととした。
JSONを採用しインターフェース部の仕様を定めると、
「ハチスケ」がサーバ部分を「ハリト」がクライアント部分を主に担当することにした。
月1のコードレビューでコードを共有しながら進めていくことにした。
時には「ハチスケ」がクライアント部分を自分好みにリファクタリングしたり、
「ハリト」がサーバ部分に機能を追加する等した。

途中、花男に連絡が入り、機能の出来上がったところまで見せられた。
花男は、すこし想像と違う部分があったのでいくつか指摘した。
次のデモでは、その部分は花男の言った通りに直されるか、
あるいはそのように直せない理由が説明されるか、
またはそのように直す場合、時間と予算がどの程度追加でかかるかを説明された。
そのようにして、結局3ヶ月遅れ、予算が30万円超過したが、
花男は自分の言った変更が取り入れられたので満足だった。

正直、花男はデモ画面の「開発中」の表示が減っていくのを見るのが楽しみだった。
一通りの機能が完成した段階でβ版として無料試用が始まった。
そのあいだにもバグフィックスや不具合の修正等があり、
正式版の運用が始まるのは2ヵ月後となった。

こうして宿泊予約システム「予約の花」が出来上がった。
「ホテル湯の花」にネット予約で来てくれる若年層が来るようになり、
若者向けの雑誌に「アットホームな温泉旅館」として紹介されるようになった。

### ホテルラグジュアル

そして3年が過ぎた。
ハミングバード社は「予約の花」の売り込みを続けていた。
ASP契約では月額2万円、一括導入+サポート2年間で80万円との金額設定だった。
また、特徴として機能追加を有料で受け付けるという点が強調されていた。
競合も多いなか苦戦していた。

ホテルラグジュアルという一流ホテルがあった。
年商500億円という大企業だ。
ハミングバードはだめもとでそこに営業をかけてみた。
すると、なんと都合のいいことに、
ホテルラグジュアリは調度問題が生じていたところだった。
この会社は社内にエンジニアをかかえ、予約システムを作成していたのだが、
度重なる無理な要求に疲れはてた担当のエンジニアが1年前に失踪していた。
残されたのは大量のスパゲッティ。
エンジニアなら一度は聞いたことがあり、多くは実際に目にしたことのある
伝説のスパゲッティだ。
誰もそれに手をつけようとする者はいなかった。
当然Xデーがやってくる。
重大なバグが明らかになった。

ホテルラグジュアルのCTOは困り果てていた。
社長は「何とかしろ」しか言わない。
エンジニアはたくさんいたが、よく聞くと実質的に仕事をしていたのは、
失踪した1人のエンジニアだけだったようで、
他はろくにコードも書けないようだった。
CTO自身も実際にコードを書いたのははるか昔、思い出すこともできない。

そこに飛び込みでやってきたのが「トリヒコ」だった。
CTOは飛んで火にいる夏の虫とばかりに彼をうまく説得し、
スパゲッティをすべて食べさせてしまおうと躍起になった。
「トリヒコ」はチャンスとばかりに営業を始めた。
うまいこと話を引き出し、
CTOが今回の問題はコードを管理する者が1人しかいなかったことが問題だと
自分から気づくようにしむけた。
そのうえでオープンソースの利点を説明し、
HB社ではコードレビューを重視していると強調した。
CTOは現在のせっぱつまった状態をどうにかしてくれればどうでも良いようだった。

そこで「トリヒコ」はこう提案した。
「予約の花」の見た目を現行のシステムに近いものにしたうえで、
既存コードのバグが生じた場合だけ「予約の花」に誘導したらどうか、と。
そして、現在の「予約の花」に足りない機能を追加していき、
必要な機能がそろった段階で全面的に移行する。
まずは見た目を現行のシステムに近いものにするのに、
まずは300万円の契約を結んだ。
また、ASP使用料として月額2万円の契約とした。
そのうえで、機能追加のひとつひとつを案件として定義し、
そのたびに契約と開発をくりかえす形とした。

予約の花 Ex
-----------

最終的に「予約の花」は多機能で洗練されたシステムとなり、
「予約の花 Ex」と呼ばれるようになった。
ASP契約も機能単位で金額を設定し必要な機能のぶんだけ使用することができる
ようにした。
「ホテルラグジュアル」が資金を提供した追加機能については、
無料から半額程度での契約とした。
また、「ホテル花の湯」は初期開発の依頼者として同様に追加機能について、
無料から半額程度での契約とした。

まとめ
======

「ホテル湯の花」の社長、花男は初期の開発の費用を負担したが、
その後の追加機能は格安で手に入れることができた。
「ホテルラグジュアル」のCTOはたたき台として実際に運用されているシステムに
機能追加していくことですくないリスクで必要なシステムを手に入れた。
ハミングバードは重複したコードを書くことなく新しい機能の追加に専念することが
できた。

また、細かいことだがデモンストレーション時のコツをひとつ。

* 機能が未完成の部分はそのことがわかるような表示にしよう
